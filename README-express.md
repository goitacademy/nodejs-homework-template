node-выполнение js без браузера

---

dotenv для конфигов
.env - файл как пример переменных окружения, котoрые могут влиять на приложение
Это локальные переменные, которые доступные нашему приложению.

---

мидлвар-промежуточный обработчик. промежуточное ПО.

---

req-объект записывающий запрос
res-объект создающий ответ

---

Маршрутизация определяет как приложение отвечает на клиентский запрос к конкретному адресу-URL.

---

app.METHOD(PATH, HANDLER)
app — это экземпляр express приложения.
METHOD -— метод запроса HTTP (GET, POST, PUT, PATCH, DELETE).
PATH —- путь на сервере, в нашем случае это корень сайта '/'.
HANDLER —- функция, выполняемая при сопоставлении маршрута.

---

Router представляет собой комплексную систему промежуточных обработчиков и маршрутизации.

---

npm-node package manager. менеджер пакетов
express-фреймворк для бэкенд
постман-утилита

---

запустить дебагер
node --inspect app.js

---

Morgan-для логинга, для протоколирования запросов.
const logger = require('morgan')
morgan библиотека для логирования. Она подключается как прослойка (middleware)
const formatsLogger = app.get('env') === 'development' ? 'dev' : 'short' - позволяет выводить логирование или в варианте 'dev' 'short' - в зависимости от стадии разработки проверка - 'development' или нет.

app.use(logger(formatsLogger))
Что такое логирование - когда вы будете делать к вашему API (это ваш сервер) запросы через Постмен, то в консоли, вы будете видеть, что то вот такого типа
info: ::1 - - [16/Feb/2018:12:37:44 +0000] "GET /logout HTTP/1.1" 200 34 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.132 Safari/537.36"
timestamp=2018-02-16T12:37:44.421Z
И вот эта информация и называется - логирование.
В чем смысл - мы делаем запрос, запрос проходит через эту прослойку, и эта прослойка присылает в консоль информацию про запрос - когда, какой, на какой адрес, какой код ответа. Или сообщает, что произошла ошибка.
Зачем это надо? Потому что тут вы сами себе присылаете запросы. Но обычно вы на сервере просто видите, как пользователи из разных точек мира шлют запросы на сервер, и вы видите какие запросы приходят, как их много, какие ответы - положительные или ошибки. Это такой журнал наблюдения за работой вашего сервера. Что бы потом, когда что-то не так пойдет, вы поднимаете такой журнал и смотрите, что вот после запроса на такой-то роут, в такое-то время с такими-то параметрами - ваш сервер умер. Значит там у нас проблемы. Можно не в консоль писать, можно писать в файл.

var accessLogStream = fs.createWriteStream(path.join(\_\_dirname, 'access.log'), { flags: 'a' })
app.use(morgan('combined', { stream: accessLogStream }))

---

CRUD RESTfull API
мы можем общаться с помощью http протокола используя различные http методы
crudы-набор взаимодействий, которые мы должны реализовать в клиент-серверном взаимодействиии. с помощью крудов клиент и сервер взаимодействуют.
c-create-post
r-read-get
u-update-put(полностью подменяет поля)/patch(выборочно подменяет)
d-delete-delete

REST (REpresentational State Transfer)-передача репрезентативного состояния.
REST-представление текущего состояния клиенту. архитекрутный стиль.
Client -->(get/post/put/delete) <--(json/xml) REST API {...} <--> Database

http-название протокола
Информационные 100 - 199
Успешные 200 - 299
Перенаправления 300 - 399
Клиентские ошибки 400 - 499
Серверные ошибки 500 - 599

ajax запрос который делается с помощью axios
проксисервер-промежуточная обработка

---

по токену система понимает кто к ней пришел, кто что запрашивает
пользователю нужно залогиниться, что бы получить токен

---

JOI-библиотека для валидации
npm i moment

---

Cross-Origin Resource Sharing (CORS, перекрестный обмен ресурсами) - это механизм, который с помощью HTTP-заголовков дает браузеру разрешение загружать ресурсы с определенного источника на запрос web-приложения, полученного из отличного источника.
Механизм CORS делает безопасные перекрестные запросы и передачи данных между web-браузерами и web-серверами.

---

URL по запросу ресурса называют endpoints API

---

что такое ресурсы в рест?
